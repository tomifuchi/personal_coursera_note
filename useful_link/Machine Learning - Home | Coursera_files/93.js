(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{"1teK":function(module,exports,e){},CSo3:function(module,e,t){"use strict";t.d(e,"c",function(){return a}),t.d(e,"a",function(){return s}),t.d(e,"b",function(){return c});var r=t("lSNA"),n=t.n(r),i=t("YDId"),o=t("sQ/U");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var a=function fetchSubscriptionForForum(e,t){var r=t.forumSubscriptionId,n=t.forumType;if(o.a.isAuthenticatedUser())return i.a(r,n).then(function(t){e.dispatch("UPDATE_SUBSCRIPTION",t)}).catch(function(t){e.dispatch("UPDATE_SUBSCRIPTION_FAILED",t)});return Promise.reject(new Error("User not authenticated"))},s=function addSubscription(e,t){var r=t.forumSubscriptionId,n=t.forumType;if(o.a.isAuthenticatedUser())return e.dispatch("UPDATE_SUBSCRIPTION",{id:r,isInProgress:!0}),i.b(r,n).then(function(){e.dispatch("UPDATE_SUBSCRIPTION",{id:r,isSubscribed:!0})}).catch(function(t){e.dispatch("UPDATE_SUBSCRIPTION_FAILED",t)});return Promise.reject(new Error("User not authenticated"))},c=function deleteSubscription(e,t){var r=t.subscription,n=t.forumSubscriptionId,a=t.forumType;if(o.a.isAuthenticatedUser())return e.dispatch("UPDATE_SUBSCRIPTION",_objectSpread(_objectSpread({},r),{},{isInProgress:!0})),i.c(n,a).then(function(){e.dispatch("UPDATE_SUBSCRIPTION",{id:n,isSubscribed:!1})}).catch(function(t){e.dispatch("UPDATE_SUBSCRIPTION_FAILED",t)});return Promise.reject(new Error("User not authenticated"))}},CaGH:function(module,exports,e){},KsQM:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),i=t("q1tI"),o=t.n(i),a=t("MnCE"),s=t("17x9"),c=t.n(s),u=t("sQ/U"),l=t("CSo3"),p=t("AWZ4"),d=t("q5zD"),m=t("8cuT"),b=t("GP6s"),f=t.n(b),h=t("UaPE"),v=t.n(h),S=function(e){function SubscriptionButton(t,r){var n;return(n=e.call(this,t,r)||this).toggleSubscription=function(){var e=n.props,t=e.isSubscribed,r=e.forumType,i=e.subscription,o=e.forumSubscriptionId;t?(n.context.executeAction(l.b,{subscription:i,forumSubscriptionId:o,forumType:r}),n.setState({showSubscriptionDetails:!0,subscriptionDetails:f()("You will no longer receive emails whenever new threads are added.")})):(n.context.executeAction(l.a,{forumType:r,forumSubscriptionId:o}),n.setState({showSubscriptionDetails:!0,subscriptionDetails:f()("You will receive emails whenever new threads are added.")}))},n.state={subscriptionDetails:null,showSubscriptionDetails:!1},n}n()(SubscriptionButton,e);var t=SubscriptionButton.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props,t=e.subscription,r=e.forumSubscriptionId,n=e.forumType;null!==t&&(t||this.context.executeAction(l.c,{forumType:n,forumSubscriptionId:r}))},t.componentDidUpdate=function componentDidUpdate(){var e=this.props,t=e.subscription,r=e.forumSubscriptionId,n=e.forumType;null!==t&&(t||this.context.executeAction(l.c,{forumType:n,forumSubscriptionId:r}))},t.render=function render(){var e=this.props,t=e.subscription,r=e.isSubscribed,n=e.hasError,i=e.isSubscriptionInProgress,a=this.state,s=a.showSubscriptionDetails,c=a.subscriptionDetails;return o.a.createElement("div",{className:"rc-SubscriptionButton horizontal-box vertical-when-mobile align-items-vertical-center"},o.a.createElement(p.b,{rootClassName:"subscription-button",type:"secondary",size:"sm",onClick:this.toggleSubscription,"aria-label":f()("Button"),disabled:!t},i?o.a.createElement(d.a,{name:"spinner",className:"cif-spin"}):t?r?f()("Unsubscribe"):f()("Subscribe"):null===t?f()("Error"):o.a.createElement(d.a,{name:"spinner",className:"cif-spin"})),!n&&s&&o.a.createElement("div",{className:"message caption-text"},c),n&&o.a.createElement("div",{className:"errorMessage"},f()("Sorry, something went wrong. Try again.")),s&&o.a.createElement("span",{className:"screenreader-only","aria-live":"polite"},t&&!i&&r?f()("Subscribed, You will receive emails whenever new threads are added."):f()("Unsubscribed, You will no longer receive emails whenever new threads are added.")))},SubscriptionButton}(o.a.Component);S.contextTypes={executeAction:c.a.func.isRequired},e.a=Object(a.compose)(Object(m.a)(["SubscriptionStore","CourseMembershipStore","CourseStore"],function(e,t){var r=e.SubscriptionStore,n=e.CourseMembershipStore,i=e.CourseStore,o=t.forumId,a=o&&o.split("~"),s=o&&"".concat(u.a.get().id,"~").concat(a[0],"~").concat(a[1]),c=u.a.isAuthenticatedUser();return{forumSubscriptionId:s,hasError:r.hasError(),subscription:c&&!r.hasError()?r.getSubscription(s):null,isSubscribed:c&&!r.hasError()?r.getIsSubscribed(s):null,isSubscriptionInProgress:c&&!r.hasError()?r.getIsSubscriptionInProgress(s):null}}))(S)},OUqu:function(module,exports,e){},RYD2:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),i=t("w/1P"),o=t.n(i),a=t("CsdX"),s=t("q1tI"),c=t.n(s),u=t("eJMc"),l=t.n(u),p=t("F/us"),d=t.n(p),m=t("cIEV"),b=t.n(m),f=function emptyFunction(){},h=function(e){function Breadcrumbs(){return e.apply(this,arguments)||this}n()(Breadcrumbs,e);var t=Breadcrumbs.prototype;return t.getFilteredLinks=function getFilteredLinks(){var e;return this.props.links.slice().filter(p.identity)},t.render=function render(){var e=this.props,t=e.className,r=e.linkClassName,n=e.separator,i=e.separatorStyles,s=this.getFilteredLinks();return c.a.createElement("ol",{className:o()("rc-Breadcrumbs inline",t)},s.map(function(e,t){var o=[c.a.createElement("li",null,e.href?c.a.createElement(l.a,{className:r,to:e.href,onClick:e.onClick||f},e.label):c.a.createElement("span",{className:r},e.label))];return t!==s.length-1&&o.push(c.a.createElement("li",Object(a.d)("divider",i),n||"/")),o}))},Breadcrumbs}(c.a.Component);e.a=h},UaPE:function(module,exports,e){var t=e("1teK"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},i=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},Ub7k:function(module,exports,e){var t=e("WPL1"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},i=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"VS/1":function(module,e,t){"use strict";var r=t("q1tI"),n=t.n(r),i=t("yizN"),o=Object(i.b)("ChevronNextIcon",{ltr:{small:n.a.createElement(n.a.Fragment,null,n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.293 8L4.646 1.354l.708-.708L12.707 8l-7.353 7.354-.708-.707L11.293 8z",fill:"currentColor"})),medium:n.a.createElement(n.a.Fragment,null,n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.293 10L5.646 1.354l.708-.708L15.707 10l-9.353 9.354-.708-.707L14.293 10z",fill:"currentColor"})),large:n.a.createElement(n.a.Fragment,null,n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.293 12L6.646 1.354l.708-.708L18.707 12 7.354 23.354l-.708-.707L17.293 12z",fill:"currentColor"}))}},!0);e.a=o},WPL1:function(module,exports,e){},YDId:function(module,e,t){"use strict";t.d(e,"a",function(){return i}),t.d(e,"b",function(){return o}),t.d(e,"c",function(){return a});var r=t("obES"),n=t("sQ/U"),i=function getForumSubscription(e,t){return r.a.getSubscription(e,t).then(function(e){return Object.assign(e.elements[0],{isSubscribed:!0})}).catch(function(t){if(404===t.status)return{id:e,isSubscribed:!1};throw t})},o=function subscribeUserToEntity(e,t){if(n.a.isAuthenticatedUser())return r.a.subscribe(e,t)},a=function unsubscribeUserFromEntity(e,t){if(n.a.isAuthenticatedUser())return r.a.unsubscribe(e,t)}},arLX:function(module,e,t){"use strict";var r=t("lSNA"),n=t.n(r),i=t("Pzz+");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}e.a=function(e){if(!e.currentForum)return e;var t=e.courseForums.concat(e.mentorForums).concat(e.groupForums),r=t.find(function(e){return e.forumType.typeName===i.j.rootForumType}),n=e.currentForum;e.currentForum.parentForumId&&e.currentForum.parentForumId!==r.id&&(n=t.find(function(t){return t.id===e.currentForum.parentForumId}));var o=t.filter(function(e){return e.parentForumId===n.id});return o.unshift(n),_objectSpread(_objectSpread({},e),{},{listedForums:o,parentForumId:n.id})}},cIEV:function(module,exports,e){var t=e("CaGH"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},i=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},jYk1:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),i=t("17x9"),o=t.n(i),a=t("q1tI"),s=t.n(a),c=t("F/us"),u=t.n(c),l=t("w/1P"),p=t.n(l),d=t("eJMc"),m=t.n(d),b=t("BVC1"),f=t("BZ+2"),h=t("zFZo"),v=t("weTL"),S=t("+LJP"),y=t("pqXt"),O=t("W1i5"),E=t("hN99"),g=t("arLX"),j=t("oQ9N"),F=t("6fvP"),I=t("GP6s"),w=t.n(I),P=t("vJ/u"),T=t.n(P),N=function(e){function SubforumSidebar(t){var r;return(r=e.call(this,t)||this).resourcePanelEpic=F.b.enabledResourcePanelToPublic(),r}var t;return n()(SubforumSidebar,e),SubforumSidebar.prototype.render=function render(){var e=this,t=this.props,r=t.listedForums,n=t.currentForumId,i=t.parentForumId,o=t.courseSlug;if(!r||r.length<=1)return null;return s.a.createElement("div",{className:"rc-SubforumSidebar card-rich-interaction flex-1"},s.a.createElement("h2",{className:"subforums-list-title headline-1-text color-secondary-text"},w()("Subforums")),s.a.createElement("ul",{className:"nostyle"},r.map(function(t){var r=p()("forum-title",{"body-2-text":t.id===n,"body-1-text":t.id!==n}),a=b.a.join(Object(E.f)(o),t.link),c=Object(E.i)(t.forumId);return a=e.resourcePanelEpic&&c||a,s.a.createElement("li",{className:"subforum-entry"},s.a.createElement(m.a,{key:t.id,to:a,className:"nostyle","aria-current":t.id===n},t.id===n&&s.a.createElement("div",{className:"current-forum-indicator"}),s.a.createElement("div",{className:r},t.id===i?w()("All"):t.title)))})))},SubforumSidebar}(s.a.Component);N.propTypes={courseSlug:o.a.string,listedForums:o.a.arrayOf(o.a.oneOfType([o.a.instanceOf(f.a),o.a.instanceOf(h.a),o.a.instanceOf(v.a)])),currentForumId:o.a.string,parentForumId:o.a.string},e.a=u.a.compose(Object(j.a)({fields:["link","title","description","parentForumId"]}),Object(S.a)(y.a),Object(O.a)(g.a))(N)},oRWh:function(module,e,t){"use strict";t.d(e,"a",function(){return O});var r=t("VbXa"),n=t.n(r),i=t("AeFk"),o=t("w/1P"),a=t.n(o),s=t("8Hdl"),c=t("fAYU"),u=t("VS/1"),l=t("CsdX"),p=t("q1tI"),d=t.n(p),m=t("eJMc"),b=t.n(m),f=t("F/us"),h=t.n(f),v=t("cIEV"),S=t.n(v),y=function emptyFunction(){},O=function(e){function Breadcrumbs(){return e.apply(this,arguments)||this}n()(Breadcrumbs,e);var t=Breadcrumbs.prototype;return t.getFilteredLinks=function getFilteredLinks(){var e;return this.props.links.slice().filter(f.identity)},t.render=function render(){var e=this.props,t=e.className,r=e.linkClassName,n=e.separator,o=e.separatorStyles,p=this.getFilteredLinks();return Object(i.c)("ol",{className:a()("rc-Breadcrumbs inline",t)},p.map(function(e,t){var a=[Object(i.c)(s.a,{component:"li"},e.href?Object(i.c)(c.a,{variant:"quiet",component:b.a,className:r,to:e.href},e.label):Object(i.c)("span",{className:r},e.label))];return t!==p.length-1&&a.push(Object(i.c)("li",Object(l.d)("divider",o),n||Object(i.c)(u.a,{size:"small"}))),a}))},Breadcrumbs}(d.a.Component)},obES:function(module,e,t){"use strict";var r=t("S+eF"),n=t.n(r),i=t("CWYE"),o=t("Pzz+"),a=Object(i.a)("/api/onDemandCourseForumSubscriptions.v1",{type:"rest"}),s=Object(i.a)("/api/onDemandMentorForumSubscriptions.v1",{type:"rest"}),c=Object(i.a)("/api/groupForumSubscriptions.v1",{type:"rest"}),u=function getSubscription(e,t){return t===o.j.mentorForumType?n()(s.get(e)):t===o.j.groupForumType?n()(c.get(e)):n()(a.get(e))},l=function subscribe(e,t){return t===o.j.mentorForumType?n()(s.put(e)):t===o.j.groupForumType?n()(c.put(e)):n()(a.put(e))},p=function unsubscribe(e,t){return t===o.j.mentorForumType?n()(s.delete(e)):t===o.j.groupForumType?n()(c.delete(e)):n()(a.delete(e))};e.a={getSubscription:u,subscribe:l,unsubscribe:p}},"vJ/u":function(module,exports,e){var t=e("OUqu"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},i=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},vkTq:function(module,e,t){"use strict";t.r(e);var r=t("VbXa"),n=t.n(r),i=t("17x9"),o=t.n(i),a=t("q1tI"),s=t.n(a),c=t("F/us"),u=t.n(c),l=t("BVC1"),p=t("oVXz"),d=t("hN99"),m=t("7GkZ"),b=t("zfwB"),f=t("KsQM"),h=t("STl7"),v=t("jYk1"),S=t("UVOs"),y=t("5VK0"),O=t("ypD2"),E=t("pqXt"),g=t("arLX"),j=t("Pzz+"),F=t("oQ9N"),I=t("BZ+2"),w=t("zFZo"),P=t("weTL"),T=t("W1i5"),N=t("+LJP"),x=t("GP6s"),U=t.n(x),D=t("Ub7k"),C=t.n(D),k=t("6fvP"),B=function(e){function ThreadsView(t){var r;return(r=e.call(this,t)||this).resourcePanelEnabled=k.b.enabledResourcePanelToPublic(),r}n()(ThreadsView,e);var t=ThreadsView.prototype;return t.renderSubscriptionButton=function renderSubscriptionButton(){var e=this.props.currentForum;if(!e||e.forumType.typeName===j.j.itemForumType)return null;return s.a.createElement("div",{className:"flex-1"},s.a.createElement(f.a,{forumId:this.props.currentForum&&this.props.currentForum.id,forumType:this.props.currentForum&&this.props.currentForum.forumType.typeName,groupId:this.props.currentForum&&this.props.currentForum.forumType.definition.groupId}))},t.render=function render(){var e=this.props.currentForum;if(!e)return s.a.createElement("div",{className:"forum-name headline-5-text color-primary-text"},U()("Oops! Looks like this thread isn't viewable or does not exist."));var t=e.parentForumId&&this.props.listedForums.find(function(t){return e.parentForumId===t.id}),r=e.title,n=e.description,i=e.id,o=l.a.join(Object(d.f)(this.props.courseSlug),e.link);if(!0===this.resourcePanelEnabled){var a,c=(this.context&&this.context.router&&this.context.router.params).forum_id;c&&(o=Object(d.i)(c))}var u=[{label:U()("Discussion Forums"),href:Object(d.d)()},t?{label:t.title,href:l.a.join(Object(d.f)(this.props.courseSlug),t.link)}:void 0],f=!!this.context.router.params.question_id;return s.a.createElement("div",{className:"rc-ThreadsView"},s.a.createElement("div",{className:"horizontal-box vertical-when-tablet"},s.a.createElement("div",{className:"flex-2 threads-view-header"},s.a.createElement(b.a,{className:"breadcrumbs",links:u}),s.a.createElement("div",null,s.a.createElement("h1",{className:"forum-name headline-5-text color-primary-text"},r),!f&&s.a.createElement("div",{className:"forum-description horizontal-box align-items-vertical-center vertical-when-mobile"},s.a.createElement(m.a,{className:"body-1-text",cml:n}),s.a.createElement("div",null,this.renderSubscriptionButton())))),s.a.createElement("div",{className:"flex-1 align-self-end session-switcher-container"},s.a.createElement(h.a,null))),s.a.createElement("div",{className:"horizontal-box align-items-top vertical-when-tablet"},s.a.createElement(p.a,{className:"flex-2 discussions-body-column",key:i,backLink:o}),s.a.createElement(v.a,null)))},ThreadsView}(s.a.Component);B.propTypes={currentForum:o.a.oneOfType([o.a.instanceOf(I.a),o.a.instanceOf(w.a),o.a.instanceOf(P.a)]),listedForums:o.a.arrayOf(o.a.oneOfType([o.a.instanceOf(I.a),o.a.instanceOf(w.a),o.a.instanceOf(P.a)])),courseSlug:o.a.string},B.contextTypes={router:o.a.object.isRequired},e.default=Object(c.compose)(Object(F.a)({fields:["title","description","link"],subcomponents:[v.a,S.a,y.a,O.a]}),Object(N.a)(E.a),Object(T.a)(g.a))(B)},zfwB:function(module,e,t){"use strict";var r=t("RYD2"),n=t("oRWh");t.d(e,"a",function(){return n.a});var i=r.a}}]);
//# sourceMappingURL=93.dbab3e535797ef595e4b.js.map